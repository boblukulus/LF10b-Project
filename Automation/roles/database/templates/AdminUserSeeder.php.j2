<?php

namespace Database\Seeders;

use Illuminate\Database\Seeders;
use Illuminate\Support\Facades\DB;
use Illuminate\Support\Facades\Hash;
use Illuminate\Support\Str;

class AdminUserSeeder extends Seeder
{
	public function run(): void
	{
		$email = '{{ pterodactyl_user.admin_email }}';

		if (User::where('email', $email)->exists()) {
			$this->command->info("Admin user with email {$email} already exists.");
			return;
		}

		User::create([
			"username"	=> "{{ pterodactyl_user.admin_username }}"
			"email"		=> $email,
			"name_first"	=> "{{ pterodactyl_user.admin_firstname }}"
			"name_last"	=> "{{ pterodactyl_user.admin_lastname }}"
			"password"	=> Hash::make("{{ pterodactyl_user.admin_password }}"),
			"root_admin"	=> true,
		]);

		$this->command->info('Admin user created successfully.');
	}
} 
